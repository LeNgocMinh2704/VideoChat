{"ast":null,"code":"import * as api from \"../../api\";\nimport { openAlertMessage } from \"./alertActions\";\nexport const authActions = {\n  SET_USER_DETAILS: \"AUTH.SET_USER_DETAILS\"\n};\nexport const getActions = dispatch => {\n  return {\n    login: (userDetails, navigate) => dispatch(login(userDetails, navigate)),\n    register: (userDetails, navigate) => dispatch(register(userDetails, navigate)),\n    setUserDetails: userDetails => dispatch(setUserDetails(userDetails))\n  };\n};\nconst setUserDetails = userDetails => {\n  return {\n    type: authActions.SET_USER_DETAILS,\n    userDetails\n  };\n};\nconst login = (userDetails, navigate) => {\n  return async dispatch => {\n    const response = await api.login(userDetails);\n    console.log(response);\n    if (response.error) {\n      var _response$exception, _response$exception$r;\n      dispatch(openAlertMessage(response === null || response === void 0 ? void 0 : (_response$exception = response.exception) === null || _response$exception === void 0 ? void 0 : (_response$exception$r = _response$exception.response) === null || _response$exception$r === void 0 ? void 0 : _response$exception$r.data));\n    } else {\n      const {\n        userDetails\n      } = response === null || response === void 0 ? void 0 : response.data;\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\n      dispatch(setUserDetails(userDetails));\n      navigate(\"/dashboard\");\n    }\n  };\n};\nconst register = (userDetails, navigate) => {\n  return async dispatch => {\n    const response = await api.register(userDetails);\n    console.log(response);\n    if (response.error) {\n      var _response$exception2, _response$exception2$;\n      dispatch(openAlertMessage(response === null || response === void 0 ? void 0 : (_response$exception2 = response.exception) === null || _response$exception2 === void 0 ? void 0 : (_response$exception2$ = _response$exception2.response) === null || _response$exception2$ === void 0 ? void 0 : _response$exception2$.data));\n    } else {\n      const {\n        userDetails\n      } = response === null || response === void 0 ? void 0 : response.data;\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\n      dispatch(setUserDetails(userDetails));\n      navigate(\"/dashboard\");\n    }\n  };\n};","map":{"version":3,"names":["api","openAlertMessage","authActions","SET_USER_DETAILS","getActions","dispatch","login","userDetails","navigate","register","setUserDetails","type","response","console","log","error","_response$exception","_response$exception$r","exception","data","localStorage","setItem","JSON","stringify","_response$exception2","_response$exception2$"],"sources":["D:/Đồ Án 1/New folder/Discord-clone/discord-frontend/src/app/actions/authActions.js"],"sourcesContent":["import * as api from \"../../api\";\r\nimport { openAlertMessage } from \"./alertActions\";\r\n\r\nexport const authActions = {\r\n  SET_USER_DETAILS: \"AUTH.SET_USER_DETAILS\",\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    login: (userDetails, navigate) => dispatch(login(userDetails, navigate)),\r\n    register: (userDetails, navigate) =>\r\n      dispatch(register(userDetails, navigate)),\r\n    setUserDetails: (userDetails) => dispatch(setUserDetails(userDetails)),\r\n  };\r\n};\r\n\r\nconst setUserDetails = (userDetails) => {\r\n  return {\r\n    type: authActions.SET_USER_DETAILS,\r\n    userDetails,\r\n  };\r\n};\r\n\r\nconst login = (userDetails, navigate) => {\r\n  return async (dispatch) => {\r\n    const response = await api.login(userDetails);\r\n    console.log(response);\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response?.exception?.response?.data));\r\n    } else {\r\n      const { userDetails } = response?.data;\r\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\r\n\r\n      dispatch(setUserDetails(userDetails));\r\n      navigate(\"/dashboard\");\r\n    }\r\n  };\r\n};\r\n\r\nconst register = (userDetails, navigate) => {\r\n  return async (dispatch) => {\r\n    const response = await api.register(userDetails);\r\n    console.log(response);\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response?.exception?.response?.data));\r\n    } else {\r\n      const { userDetails } = response?.data;\r\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\r\n\r\n      dispatch(setUserDetails(userDetails));\r\n      navigate(\"/dashboard\");\r\n    }\r\n  };\r\n};\r\n"],"mappings":"AAAA,OAAO,KAAKA,GAAG,MAAM,WAAW;AAChC,SAASC,gBAAgB,QAAQ,gBAAgB;AAEjD,OAAO,MAAMC,WAAW,GAAG;EACzBC,gBAAgB,EAAE;AACpB,CAAC;AAED,OAAO,MAAMC,UAAU,GAAIC,QAAQ,IAAK;EACtC,OAAO;IACLC,KAAK,EAAEA,CAACC,WAAW,EAAEC,QAAQ,KAAKH,QAAQ,CAACC,KAAK,CAACC,WAAW,EAAEC,QAAQ,CAAC,CAAC;IACxEC,QAAQ,EAAEA,CAACF,WAAW,EAAEC,QAAQ,KAC9BH,QAAQ,CAACI,QAAQ,CAACF,WAAW,EAAEC,QAAQ,CAAC,CAAC;IAC3CE,cAAc,EAAGH,WAAW,IAAKF,QAAQ,CAACK,cAAc,CAACH,WAAW,CAAC;EACvE,CAAC;AACH,CAAC;AAED,MAAMG,cAAc,GAAIH,WAAW,IAAK;EACtC,OAAO;IACLI,IAAI,EAAET,WAAW,CAACC,gBAAgB;IAClCI;EACF,CAAC;AACH,CAAC;AAED,MAAMD,KAAK,GAAGA,CAACC,WAAW,EAAEC,QAAQ,KAAK;EACvC,OAAO,MAAOH,QAAQ,IAAK;IACzB,MAAMO,QAAQ,GAAG,MAAMZ,GAAG,CAACM,KAAK,CAACC,WAAW,CAAC;IAC7CM,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;IACrB,IAAIA,QAAQ,CAACG,KAAK,EAAE;MAAA,IAAAC,mBAAA,EAAAC,qBAAA;MAClBZ,QAAQ,CAACJ,gBAAgB,CAACW,QAAQ,aAARA,QAAQ,wBAAAI,mBAAA,GAARJ,QAAQ,CAAEM,SAAS,cAAAF,mBAAA,wBAAAC,qBAAA,GAAnBD,mBAAA,CAAqBJ,QAAQ,cAAAK,qBAAA,uBAA7BA,qBAAA,CAA+BE,IAAI,CAAC,CAAC;IACjE,CAAC,MAAM;MACL,MAAM;QAAEZ;MAAY,CAAC,GAAGK,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEO,IAAI;MACtCC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAAChB,WAAW,CAAC,CAAC;MAEzDF,QAAQ,CAACK,cAAc,CAACH,WAAW,CAAC,CAAC;MACrCC,QAAQ,CAAC,YAAY,CAAC;IACxB;EACF,CAAC;AACH,CAAC;AAED,MAAMC,QAAQ,GAAGA,CAACF,WAAW,EAAEC,QAAQ,KAAK;EAC1C,OAAO,MAAOH,QAAQ,IAAK;IACzB,MAAMO,QAAQ,GAAG,MAAMZ,GAAG,CAACS,QAAQ,CAACF,WAAW,CAAC;IAChDM,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;IACrB,IAAIA,QAAQ,CAACG,KAAK,EAAE;MAAA,IAAAS,oBAAA,EAAAC,qBAAA;MAClBpB,QAAQ,CAACJ,gBAAgB,CAACW,QAAQ,aAARA,QAAQ,wBAAAY,oBAAA,GAARZ,QAAQ,CAAEM,SAAS,cAAAM,oBAAA,wBAAAC,qBAAA,GAAnBD,oBAAA,CAAqBZ,QAAQ,cAAAa,qBAAA,uBAA7BA,qBAAA,CAA+BN,IAAI,CAAC,CAAC;IACjE,CAAC,MAAM;MACL,MAAM;QAAEZ;MAAY,CAAC,GAAGK,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEO,IAAI;MACtCC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAAChB,WAAW,CAAC,CAAC;MAEzDF,QAAQ,CAACK,cAAc,CAACH,WAAW,CAAC,CAAC;MACrCC,QAAQ,CAAC,YAAY,CAAC;IACxB;EACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}